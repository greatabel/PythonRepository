<!DOCTYPE html>
<html>
<head>
    <title>服务器配置与负载均衡</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@8.11.5/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
</head>
<body>
    <h1>服务器配置与负载均衡</h1>
    <div class="mermaid">
        graph LR
        U[用户请求] --> C{服务器A800_B上的Gradio网页<br> #可灵活换成其他前端服务/app# 路由选择<br>与负载均衡<br><br>#2选1#}
        C -->|分配至A或B| A[服务器A800_A<br>API封装<br> #Qwen_VL模型#]
        C --> B[服务器A800_B<br>API封装<br> #和RAG请求embedding后#]
        A -->|访问| D[服务器A800_C<br>RAG向量数据库DB<br> #当前进度:完成第一版RAG部署 <br><br>#进行embedding的模型和reranker的新模型对比实验#]
        B -->|访问| D
        D --> E[最终用户服务]

        style C fill:#f9d6c1,stroke:#f66,stroke-width:2px;
        style E fill:#c1f9d6,stroke:#56b886,stroke-width:2px;
        style D fill:#f9f2c1,stroke:#d6b656,stroke-width:2px;
        style A fill:#f9d9c1,stroke:#b88356,stroke-width:2px;
        style B fill:#f9d9c1,stroke:#b88356,stroke-width:2px;
        style U fill:#f5f5f5,stroke:#c1c1c1,stroke-width:2px;
        linkStyle 2 stroke:#ff6347,stroke-width:2px;
        linkStyle 3 stroke:#ff6347,stroke-width:2px;
    </div>
</body>
</html>
